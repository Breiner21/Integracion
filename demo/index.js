import{a as u,b as C,c as p,e as r}from"../chunk-MIRGPZVV.js";import{a as i,b as o,c as n,i as O,j as x,k as S,l as m}from"../chunk-ZQY3Y6HS.js";function a(){return!!(navigator.credentials&&navigator.credentials.create&&navigator.credentials.get&&window.PublicKeyCredential)}function s(e){return n(i,O,e)}function c(e){return n(o,x,e)}function d(e){return n(i,S,e)}function l(e){return n(o,m,e)}async function b(e){let t=await navigator.credentials.create(e);return t.toJSON=()=>c(t),t}async function g(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>l(t),t}function y(){return u().map(e=>({id:e.rawId,type:e.type}))}async function J(){let e=s({publicKey:{challenge:"CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC",rp:{name:"Localhost, Inc."},user:{id:"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",name:"test_user",displayName:"Test User"},pubKeyCredParams:[],excludeCredentials:y(),authenticatorSelection:{userVerification:"discouraged"},extensions:{credProps:!0}}});p(await b(e))}async function E(){let e=d({publicKey:{challenge:"CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC",allowCredentials:y(),userVerification:"discouraged"}});await g(e)}async function f(){C([])}async function h(){document.querySelector("#supported .status").textContent="\u2026",document.querySelector("#supported .status").textContent=a()?" \u2705":" \u274C"}window.addEventListener("load",()=>{try{document.querySelector("#register").addEventListener("click",r("#register .status",J)),document.querySelector("#authenticate").addEventListener("click",r("#authenticate .status",E)),document.querySelector("#clear").addEventListener("click",r("#clear .status",f)),document.querySelector("#supported").addEventListener("click",h)}catch(e){console.error(e)}});
//# sourceMappingURL=index.js.map
