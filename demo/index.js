import{a as u,b as C,c as p,e as o}from"../chunk-PBP2FF7E.js";import{a as n,b as i,c as r,i as O,j as x,k as S,l as b}from"../chunk-ZQY3Y6HS.js";function a(){return!!(navigator.credentials&&navigator.credentials.create&&navigator.credentials.get&&window.PublicKeyCredential)}function s(e){return r(n,O,e)}function l(e){return r(i,x,e)}function d(e){return r(n,S,e)}function c(e){return r(i,b,e)}async function m(e){let t=await navigator.credentials.create(e);return t.toJSON=()=>l(t),t}async function y(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>c(t),t}function N(){return u().map(e=>({id:e.rawId,type:e.type}))}async function g(){let e=s({publicKey:{challenge:"CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC",rp:{name:"Localhost, Inc."},user:{id:"IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",name:"test_user",displayName:"Test User"},pubKeyCredParams:[{type:"public-key",alg:-7}],excludeCredentials:N(),authenticatorSelection:{userVerification:"discouraged"},extensions:{credProps:!0}}});p(await m(e))}async function f(){let e=d({publicKey:{challenge:"CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC",allowCredentials:N(),userVerification:"discouraged"}});await y(e)}async function h(){C([])}async function E(){document.querySelector("#supported .status").textContent="\u2026",document.querySelector("#supported .status").textContent=a()?" \u2705":" \u274C"}window.addEventListener("load",()=>{try{document.querySelector("#register").addEventListener("click",o("#register .status",g)),document.querySelector("#authenticate").addEventListener("click",o("#authenticate .status",f)),document.querySelector("#clear").addEventListener("click",o("#clear .status",h)),document.querySelector("#supported").addEventListener("click",E)}catch(e){console.error(e)}});
//# sourceMappingURL=index.js.map
